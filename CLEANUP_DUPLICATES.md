# üóëÔ∏è –ö–∞–∫ —É–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –∑–∞–ø–∏—Å–∏ user123 –∏–∑ Firestore

## üéØ –ü—Ä–æ–±–ª–µ–º–∞:
–í —Ç–∞–±–ª–∏—Ü–µ –ª–∏–¥–µ—Ä–æ–≤ 3 –∑–∞–ø–∏—Å–∏ –æ—Ç user123, –Ω—É–∂–Ω–∞ —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ (–ª—É—á—à–∞—è).

## ‚úÖ –†–µ—à–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ:
–ù–æ–≤—ã–π –∫–æ–¥ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** —É–¥–∞–ª—è–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Ä–µ–∫–æ—Ä–¥–∞!

–ö–æ–≥–¥–∞ user123 –ø—Ä–æ–π–¥–µ—Ç –µ—â–µ –æ–¥–∏–Ω —É—Ä–æ–≤–µ–Ω—å, —Å–∏—Å—Ç–µ–º–∞:
1. –ù–∞–π–¥–µ—Ç –≤—Å–µ –µ–≥–æ –∑–∞–ø–∏—Å–∏
2. –û—Å—Ç–∞–≤–∏—Ç —Ç–æ–ª—å–∫–æ –õ–£–ß–®–£–Æ
3. –£–¥–∞–ª–∏—Ç –æ—Å—Ç–∞–ª—å–Ω—ã–µ

**–ù–æ –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –æ—á–∏—Å—Ç–∏—Ç—å –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å, —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –Ω–∏–∂–µ:**

---

## üìã –°–ø–æ—Å–æ–± 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

–ü—Ä–æ—Å—Ç–æ **–≤–æ–π–¥–∏—Ç–µ –∫–∞–∫ user123** –∏ **–ø—Ä–æ–π–¥–∏—Ç–µ –µ—â–µ –æ–¥–∏–Ω —É—Ä–æ–≤–µ–Ω—å**. 

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úÖ –ù–∞–π–¥–µ—Ç –ª—É—á—à–∏–π —Ä–µ–∫–æ—Ä–¥
- ‚úÖ –û–±–Ω–æ–≤–∏—Ç –µ–≥–æ (–µ—Å–ª–∏ –Ω–æ–≤—ã–π –ª—É—á—à–µ)
- ‚úÖ –£–¥–∞–ª–∏—Ç –≤—Å–µ –¥—É–±–ª–∏–∫–∞—Ç—ã

**–≠—Ç–æ —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–±!**

---

## üìã –°–ø–æ—Å–æ–± 2: –†—É—á–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Firebase Console

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ Firestore Database
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://console.firebase.google.com/
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç **shahmaton-dd992**
3. –í –ª–µ–≤–æ–º –º–µ–Ω—é –≤—ã–±–µ—Ä–∏—Ç–µ **Firestore Database**

### –®–∞–≥ 2: –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–ª–ª–µ–∫—Ü–∏—é leaderboard
1. –ù–∞–π–¥–∏—Ç–µ –∫–æ–ª–ª–µ–∫—Ü–∏—é **leaderboard**
2. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –Ω–µ—ë

### –®–∞–≥ 3: –ù–∞–π–¥–∏—Ç–µ –∑–∞–ø–∏—Å–∏ user123
–í—ã —É–≤–∏–¥–∏—Ç–µ —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ:

```
Document ID          user      score    level
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
abc123              user123    966      1
def456              user123    850      1
ghi789              user123    720      1
```

### –®–∞–≥ 4: –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –õ–£–ß–®–ò–ô —Ä–µ–∫–æ—Ä–¥
–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ —Å—Ç–æ–ª–±–µ—Ü **score** - –∫–∞–∫–æ–π —Å–∞–º—ã–π –≤—ã—Å–æ–∫–∏–π?

–ù–∞–ø—Ä–∏–º–µ—Ä: **966** - —ç—Ç–æ –ª—É—á—à–∏–π

### –®–∞–≥ 5: –£–¥–∞–ª–∏—Ç–µ —Ö—É–¥—à–∏–µ –∑–∞–ø–∏—Å–∏
1. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∑–∞–ø–∏—Å—å —Å –º–µ–Ω—å—à–∏–º score (–Ω–∞–ø—Ä–∏–º–µ—Ä, 850)
2. –í–≤–µ—Ä—Ö—É —Å–ø—Ä–∞–≤–∞ –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É **üóëÔ∏è Delete document**
3. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —É–¥–∞–ª–µ–Ω–∏–µ
4. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –¥–ª—è –≤—Å–µ—Ö —Ö—É–¥—à–∏—Ö –∑–∞–ø–∏—Å–µ–π

### –†–µ–∑—É–ª—å—Ç–∞—Ç:
–û—Å—Ç–∞–Ω–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ –∑–∞–ø–∏—Å—å user123 —Å –ª—É—á—à–∏–º score!

---

## üìã –°–ø–æ—Å–æ–± 3: –£–¥–∞–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç (–¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö)

–ï—Å–ª–∏ –≤—ã –∑–Ω–∞–∫–æ–º—ã —Å JavaScript, –º–æ–∂–µ—Ç–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:

```javascript
// –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ user123 –Ω–∞ —Å–∞–π—Ç–µ, –∑–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏:

const db = window.firebaseDB;
const { collection, query, where, getDocs, deleteDoc, doc } = await import("https://www.gstatic.com/firebasejs/12.5.0/firebase-firestore.js");

const userId = window.gameState.userId; // UID —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
const leaderboardRef = collection(db, 'leaderboard');
const userQuery = query(leaderboardRef, where('userId', '==', userId));
const snapshot = await getDocs(userQuery);

let best = null;
let bestScore = -1;

snapshot.forEach(d => {
    if (d.data().score > bestScore) {
        bestScore = d.data().score;
        best = d;
    }
});

// –£–¥–∞–ª—è–µ–º –≤—Å–µ –∫—Ä–æ–º–µ –ª—É—á—à–µ–≥–æ
const promises = [];
snapshot.forEach(d => {
    if (d.id !== best.id) {
        promises.push(deleteDoc(doc(db, 'leaderboard', d.id)));
        console.log('üóëÔ∏è –£–¥–∞–ª—è—é:', d.id, '- score:', d.data().score);
    }
});

await Promise.all(promises);
console.log('‚úÖ –û—á–∏—Å—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞! –û—Å—Ç–∞–ª–∞—Å—å —Ç–æ–ª—å–∫–æ –ª—É—á—à–∞—è –∑–∞–ø–∏—Å—å —Å score:', bestScore);
```

---

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–± (–¥–ª—è –í–°–ï–• –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å—Ä–∞–∑—É):

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –æ—á–∏—Å—Ç–∏—Ç—å –¥—É–±–ª–∏–∫–∞—Ç—ã –¥–ª—è –í–°–ï–• –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

### –ß–µ—Ä–µ–∑ Firebase Console:
1. Firestore Database ‚Üí **leaderboard**
2. –£–¥–∞–ª–∏—Ç–µ –≤—Ä—É—á–Ω—É—é –≤—Å–µ –∑–∞–ø–∏—Å–∏
3. –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–∞—á–Ω—É—Ç –∑–∞–Ω–æ–≤–æ

**–ò–õ–ò** –ø—Ä–æ—Å—Ç–æ –ø–æ–¥–æ–∂–¥–∏—Ç–µ - –∫–æ–≥–¥–∞ –∫–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ–π–¥–µ—Ç –Ω–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å, –µ–≥–æ –¥—É–±–ª–∏–∫–∞—Ç—ã —É–¥–∞–ª—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

---

## üîÆ –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –≤ –±—É–¥—É—â–µ–º:

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- user123 –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Ä–æ–≤–µ–Ω—å ‚Üí score 1000
- –°–∏—Å—Ç–µ–º–∞ –Ω–∞—Ö–æ–¥–∏—Ç 3 —Å—Ç–∞—Ä—ã—Ö –∑–∞–ø–∏—Å–∏ (966, 850, 720)
- –û–±–Ω–æ–≤–ª—è–µ—Ç –ª—É—á—à—É—é –∑–∞–ø–∏—Å—å –¥–æ 1000
- –£–¥–∞–ª—è–µ—Ç 2 —Ö—É–¥—à–∏–µ –∑–∞–ø–∏—Å–∏
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –¢–æ–ª—å–∫–æ 1 –∑–∞–ø–∏—Å—å user123 —Å score 1000!

### –ü—Ä–∏ —Ö—É–¥—à–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ:
- user123 –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Ä–æ–≤–µ–Ω—å ‚Üí score 500
- –õ—É—á—à–∏–π —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π ‚Üí 966
- –°–∏—Å—Ç–µ–º–∞ –ù–ï —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç score 500
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û—Å—Ç–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å—å —Å 966 (–ª—É—á—à–∞—è)

---

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏:

–í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```javascript
// –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –∑–∞–ø–∏—Å–∏ user123
window.firebaseDB
```

–ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É - –≤ —Ç–∞–±–ª–∏—Ü–µ –ª–∏–¥–µ—Ä–æ–≤ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ –∑–∞–ø–∏—Å—å –æ—Ç –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è!

---

## ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –°–ø–æ—Å–æ–± 1** - –ø—Ä–æ—Å—Ç–æ –≤–æ–π–¥–∏—Ç–µ –∫–∞–∫ user123 –∏ –ø—Ä–æ–π–¥–∏—Ç–µ –µ—â–µ –æ–¥–∏–Ω —É—Ä–æ–≤–µ–Ω—å. 

–°–∏—Å—Ç–µ–º–∞ —Å–∞–º–∞ –≤—Å—ë –ø–æ—á–∏—Å—Ç–∏—Ç! üßπ‚ú®

---

## üéÆ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ –±—É–¥–µ—Ç:
```
ü•á 1. user123    966 ‚≠êüòé
ü•à 2. player2    850 
ü•â 3. player3    720
```

–ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å - –û–î–ò–ù —Ä–∞–∑, —Ç–æ–ª—å–∫–æ —Å –ª—É—á—à–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º!

