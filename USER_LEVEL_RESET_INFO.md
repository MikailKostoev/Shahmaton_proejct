# üîÑ –°–±—Ä–æ—Å —É—Ä–æ–≤–Ω—è –ø—Ä–∏ —Å–º–µ–Ω–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ!

–¢–µ–ø–µ—Ä—å —É—Ä–æ–≤–µ–Ω—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ 1 –ø—Ä–∏:
1. **–í—ã—Ö–æ–¥–µ –∏–∑ —Å–∏—Å—Ç–µ–º—ã**
2. **–°–º–µ–Ω–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** (–≤—ã—Ö–æ–¥ + –≤—Ö–æ–¥ –ø–æ–¥ –¥—Ä—É–≥–∏–º)

---

## üéØ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
```
user123 –Ω–∞ —É—Ä–æ–≤–Ω–µ 5
   ‚Üì
–ù–∞–∂–∏–º–∞–µ—Ç "–í—ã–π—Ç–∏"
   ‚Üì
‚úÖ –£—Ä–æ–≤–µ–Ω—å —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ 1
‚úÖ –ò–≥—Ä–∞ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è (–µ—Å–ª–∏ –∏–≥—Ä–∞–ª)
‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±–Ω—É–ª—è–µ—Ç—Å—è
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –°–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```
user123 –Ω–∞ —É—Ä–æ–≤–Ω–µ 5 (–∏–≥—Ä–∞–µ—Ç)
   ‚Üì
–í—ã—Ö–æ–¥–∏—Ç
   ‚Üì
‚úÖ –£—Ä–æ–≤–µ–Ω—å ‚Üí 1
   ‚Üì
–í—Ö–æ–¥–∏—Ç 123user123
   ‚Üì
‚úÖ –ù–∞—á–∏–Ω–∞–µ—Ç —Å —É—Ä–æ–≤–Ω—è 1
‚úÖ –°–≤–æ—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
‚úÖ –°–≤–æ–∏ —Ä–µ–∫–æ—Ä–¥—ã
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –í–æ–∑–≤—Ä–∞—Ç —Ç–æ–≥–æ –∂–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```
user123 –Ω–∞ —É—Ä–æ–≤–Ω–µ 5
   ‚Üì
–í—ã—Ö–æ–¥–∏—Ç (—É—Ä–æ–≤–µ–Ω—å ‚Üí 1)
   ‚Üì
–í—Ö–æ–¥–∏—Ç —Å–Ω–æ–≤–∞ –∫–∞–∫ user123
   ‚Üì
‚úÖ –ù–∞—á–∏–Ω–∞–µ—Ç —Å —É—Ä–æ–≤–Ω—è 1
(–ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–∫–∞ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏)
```

---

## üîç –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –∫–æ–¥–µ:

### –ü—Ä–∏ –≤—Ö–æ–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
```javascript
if (isUserChanged) {
    // –°–±—Ä–æ—Å —É—Ä–æ–≤–Ω—è
    gameState.level = 1
    
    // –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–≥—Ä—ã
    if (gameState.isPlaying) {
        clearInterval(timerInterval)
        isPlaying = false
    }
    
    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI
    updateDisplay()
}
```

### –ü—Ä–∏ –≤—ã—Ö–æ–¥–µ:
```javascript
// –°–±—Ä–æ—Å –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö
gameState.currentUser = null
gameState.userId = null
gameState.level = 1

// –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–≥—Ä—ã
if (isPlaying) {
    stopGame()
}
```

---

## üìä –ö–æ–Ω—Å–æ–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è:

–ü—Ä–∏ —Å–º–µ–Ω–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤—ã —É–≤–∏–¥–∏—Ç–µ:
```
üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã—à–µ–ª, —É—Ä–æ–≤–µ–Ω—å —Å–±—Ä–æ—à–µ–Ω –Ω–∞ 1
üîÑ –°–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Å–±—Ä–æ—Å —É—Ä–æ–≤–Ω—è –∏ –∏–≥—Ä—ã
üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–æ—à–µ–ª: 123user123
‚úÖ gameState –æ–±–Ω–æ–≤–ª–µ–Ω: {currentUser: '123user123', userId: '...', level: 1}
üìä –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: level 1 (–Ω–æ–≤—ã–π —Å—Ç–∞—Ä—Ç)
```

---

## üéÆ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

### –¢–µ—Å—Ç 1: –í—ã—Ö–æ–¥
1. –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ user123
2. –ü—Ä–æ–π–¥–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —É—Ä–æ–≤–Ω–µ–π (–¥–æ 3-4)
3. –ù–∞–∂–º–∏—Ç–µ "–í—ã–π—Ç–∏"
4. –í–æ–π–¥–∏—Ç–µ —Å–Ω–æ–≤–∞ –∫–∞–∫ user123
5. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –£—Ä–æ–≤–µ–Ω—å = 1 ‚úÖ

### –¢–µ—Å—Ç 2: –°–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
1. –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ user123
2. –ü—Ä–æ–π–¥–∏—Ç–µ –¥–æ —É—Ä–æ–≤–Ω—è 3
3. –ù–∞–∂–º–∏—Ç–µ "–í—ã–π—Ç–∏"
4. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –Ω–æ–≤–æ–≥–æ (player2)
5. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –£—Ä–æ–≤–µ–Ω—å = 1 ‚úÖ

### –¢–µ—Å—Ç 3: –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–≥—Ä—ã
1. –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ user123
2. –ù–∞—á–Ω–∏—Ç–µ –∏–≥—Ä–∞—Ç—å (–Ω–µ –∑–∞–≤–µ—Ä—à–∞–π—Ç–µ —É—Ä–æ–≤–µ–Ω—å)
3. –ù–∞–∂–º–∏—Ç–µ "–í—ã–π—Ç–∏" –ø—Ä—è–º–æ –≤–æ –≤—Ä–µ–º—è –∏–≥—Ä—ã
4. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ò–≥—Ä–∞ –æ—Å—Ç–∞–Ω–æ–≤–∏–ª–∞—Å—å, —Ç–∞–π–º–µ—Ä –æ—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è ‚úÖ

---

## üîÆ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤ Firestore:
–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é, —á—Ç–æ–±—ã –∫–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ—Ö—Ä–∞–Ω—è–ª —Å–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å:

```javascript
// –ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —É—Ä–æ–≤–Ω—è:
saveUserProgress(userId, {
    currentLevel: gameState.level,
    totalScore: calculateTotalScore(),
    lastPlayed: new Date()
})

// –ü—Ä–∏ –≤—Ö–æ–¥–µ:
loadUserProgress(userId)
// –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç level –¥–ª—è —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```

–≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Å —Ç–æ–≥–æ —É—Ä–æ–≤–Ω—è, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –æ—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è!

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–°–∏—Å—Ç–µ–º–∞ —Å–±—Ä–æ—Å–∞ —É—Ä–æ–≤–Ω—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–π —Å–º–µ–Ω–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è!

**–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å–µ–π—á–∞—Å!** üß™

